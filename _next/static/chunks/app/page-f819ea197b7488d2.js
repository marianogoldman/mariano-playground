(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1082:function(e,t,s){Promise.resolve().then(s.bind(s,4954))},4954:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n,i,o=s(3827),c=s(4090);(n=i||(i={}))[n.Init=1]="Init",n[n.ParticipantJoined=2]="ParticipantJoined",n[n.ParticipantLeft=3]="ParticipantLeft",n[n.ParticipantSelectedEntity=4]="ParticipantSelectedEntity",n[n.ParticipantUnselectedEntity=5]="ParticipantUnselectedEntity",n[n.Crdt=6]="Crdt",new TextEncoder,new TextDecoder;let a=["bafkreiarkmiqdnx7sydzf27gprlt6cxxpwy2373c4rklwe4nlrzlmbgs7a","bafkreieffhchjewsaenctrkgfk46lg3qaff3vh7bf5ou6fxdn47uwidwm4","bafkreibmgy4rlpt6xrmsd7rrbx77m7hfofqi5qzwmmy7emfecejsrhgec4","bafkreibkjtgz3s7golypk5xx2md7ewfo3agh47e2yp5b2hnmnftshder3u","bafkreig3ic7lmodoydmm6pobzqkfvltvu6a4tvokod77tecbrmjsxszxna","bafkreihud7x7cackcwcclmubxcqheyrcqteqrpdqxwjxjogq6z5kf54254","bafkreihrivpeyizwgtzj7z3uniucn3f5ukvpfuqqg4lme57aevemo3dmg4","bafkreigqdzstqdyot6ygv26a4qfucynmpng7hggbabtc7hmir4wp7kfmoa","bafkreihon64r73t7syahsgr7elf7kxfzb5ys6kxgsucjwetuvs7zdfvvje","bafkreif3rpvon6nfd2tvgo57u225snkfneupghpwcswsg7j6lfjxe2afnu","bafkreiak3gcqpjbcblelpoanxwfaclejhtf4y54y3kk7ngfhishxcrfh5u","bafkreid3pq53yjb3acbkqmsbk4eknnphapdpa344d7ng46dlnctxmmgkru","bafkreidaqbxrgb2oljddyzizhaqddq7j42dbyfqxv6hdfd6wkrtla5tbei","bafkreihmn6teertrob5praqvtkc6hall63gqvpqd3numjzuylyywzmekpm"],l="https://peer-ec2.decentraland.org",r="https://profile-images-bucket-43d0c58.decentraland.org/v1/entities";function d(e,t){let s={};return e.filter(function(e){let n=t(e);return!s.hasOwnProperty(n)&&(s[n]=!0)})}async function f(e){return console.log("fetching profiles",e),fetch("".concat(l,"/content/deployments?")+new URLSearchParams([["entityType","profile"],["from","1706497200000"],...e.map(e=>["entityId",e])])).then(e=>e.json()).then(e=>e.deployments.map(e=>({id:e.entityId,address:e.pointers[0],body:e.metadata.avatars[0].avatar.snapshots.body,face:e.metadata.avatars[0].avatar.snapshots.face256}))).catch(e=>(console.error(e),[]))}function m(){let[e,t]=(0,c.useState)(a),[s,n]=(0,c.useState)(a),[i,m]=(0,c.useState)(10),[u,h]=(0,c.useState)([]),[x,b]=(0,c.useState)(!1);function g(e){t(d(e,e=>e)),h([]),m(10)}return(0,c.useEffect)(()=>{f(e.slice(i-10,i)).then(e=>{console.log("fetched profiles",e),h(t=>d([...t,...e],e=>e.id))}).catch(console.error)},[e,i]),(0,o.jsxs)("div",{className:"bg-white",children:[(0,o.jsx)("h1",{className:"text-center text-4xl font-bold text-gray-600 my-4",children:"Compare images"}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsxs)("div",{className:"m-2 text-gray-500",children:["Displaying ",u.length," profiles of ",i]}),(0,o.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,o.jsx)("button",{className:"h-8 rounded bg-indigo-600 px-2 py-1 font-mono text-xs font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>void fetch("".concat(l,"/content/deployments?entityType=profile&from=1706497200000")).then(e=>e.json()).then(e=>g(d(e.deployments.map(e=>e.entityId),e=>e))).catch(console.error),children:"Recent deployments"}),(0,o.jsx)("button",{className:"h-8 rounded bg-indigo-600 px-2 py-1 font-mono text-xs font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>g(a),children:"Profiles with issues"}),(0,o.jsx)("button",{className:"h-8 rounded bg-indigo-600 px-2 py-1 font-mono text-xs font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>{n(e),b(!x)},children:"Specific profiles"})]})]}),x&&(0,o.jsxs)("div",{className:"grid grid-cols-1",children:[(0,o.jsx)("textarea",{rows:10,name:"comment",id:"comment",className:"block w-full font-mono rounded-md border-0 p-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:e.join("\n"),onChange:e=>n(e.target.value.split("\n"))}),(0,o.jsx)("div",{className:"text-center m-2",children:(0,o.jsx)("button",{className:"h-8 rounded bg-indigo-600 px-2 py-1 font-mono text-xs font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>{t(s),h([]),m(10),b(!1)},children:"Load set"})})]}),(0,o.jsx)("div",{className:"text-sm m-4",children:u.map(e=>(0,o.jsxs)("div",{className:"mt-6 grid gap-x-2 grid-cols-4 text-gray-500 border-2 p-2",children:[(0,o.jsxs)("div",{className:"col-span-4 text-xs text-center",children:[e.id," -"," ",(0,o.jsx)("a",{href:"https://decentraland.org/profile/accounts/".concat(e.address),target:"_blank",className:"text-indigo-600",children:e.address})]}),(0,o.jsx)("div",{className:"col-span-1 text-xs text-center",children:"Body (Catalyst)"}),(0,o.jsx)("div",{className:"col-span-1 text-xs text-center",children:"Body (CDN)"}),(0,o.jsx)("div",{className:"col-span-1 text-xs text-center",children:"Face (Catalyst)"}),(0,o.jsx)("div",{className:"col-span-1 text-xs text-center",children:"Face (CDN)"}),(0,o.jsx)("div",{className:"col-span-1 text-center",children:(0,o.jsx)("div",{className:"overflow-hidden h-full w-full",children:(0,o.jsx)("img",{className:"object-cover border",src:"".concat(l,"/content/contents/").concat(e.body),alt:""})})}),(0,o.jsx)("div",{className:"col-span-1 text-center",children:(0,o.jsx)("div",{className:"overflow-hidden h-full w-full",children:(0,o.jsx)("img",{className:"object-cover border",src:"".concat(r,"/").concat(e.id,"/body.png"),alt:""})})}),(0,o.jsx)("div",{className:"col-span-1 text-center",children:(0,o.jsx)("div",{className:"overflow-hidden h-full w-full",children:(0,o.jsx)("img",{className:"object-cover border",src:"".concat(l,"/content/contents/").concat(e.face),alt:""})})}),(0,o.jsx)("div",{className:"col-span-1 text-center",children:(0,o.jsx)("div",{className:"overflow-hidden h-full w-full",children:(0,o.jsx)("img",{className:"object-cover border",src:"".concat(r,"/").concat(e.id,"/face.png"),alt:""})})})]},e.id))}),(0,o.jsx)("div",{className:"text-center",children:i<e.length&&(0,o.jsx)("button",{className:"h-8 rounded bg-indigo-600 px-2 py-1 font-mono text-xs font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>{m(e=>e+10)},children:"Load more"})})]})}function u(){return(0,o.jsxs)("main",{className:" min-h-screen p-24",children:[(0,o.jsx)(m,{}),!1,!1]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=1082)}),_N_E=e.O()}]);